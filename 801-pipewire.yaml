# Install required packages
# Packages for VMs and Physical Machines
required_packages:
  packages:
    command: 'yay -S {package} --needed --noconfirm'
    package:
      - 'world/pipewire'
      - 'world/wireplumber'
      - 'world/pipewire-alsa'
      - 'world/pipewire-pulse'
      - 'world/pipewire-jack'
      - 'world/gst-plugin-pipewire'

service_paths:
  service_path: "/etc/runit/runsvdir/default/"
  sv_path: "/etc/runit/sv/"

pipewire:
  setup_service:
    packages:
      command: "yay -S {package} --needed --noconfirm"
      package:
        - "world/pipewire"
    path_init: true
    run_file:
      content: |
        #!/bin/sh
        exec /usr/bin/pipewire
    log_file:
      content: |
        #!/bin/sh
        exec svlogd -tt /var/log/pipewire
    service_init: true

pipewire-pulse:
  setup_service:
    packages:
      command: "yay -S {package} --needed --noconfirm"
      package:
        - "world/pipewire-pulse"
    path_init: true
    run_file:
      content: |
        #!/bin/sh
        exec /usr/bin/pipewire-pulse
    log_file:
      content: |
        #!/bin/sh
        exec svlogd -tt /var/log/pipewire-pulse
    service_init: true

wireplumber:
  setup_service:
    packages:
      command: "yay -S {package} --needed --noconfirm"
      package:
        - "world/wireplumber"
    path_init: true
    run_file:
      content: |
        #!/bin/sh
        exec /usr/bin/wireplumber
    log_file:
      content: |
        #!/bin/sh
        exec svlogd -tt /var/log/wireplumber
    service_init: true
